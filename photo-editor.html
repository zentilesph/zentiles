<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>zentiles – create your art</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    /* === Global Styles === */
    :root {
      --oak: #ce9f6f;
      --black: #000000;
      --white: #ffffff;
    }
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: var(--white);
      color: var(--black);
      line-height: 1.6;
      scroll-behavior: smooth;
    }
    a {
      text-decoration: none;
      color: inherit;
    }
    /* === Header & Navigation === */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      background: var(--white);
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .logo {
      font-size: 2rem;
      font-weight: 600;
      color: var(--oak);
      text-transform: lowercase;
      letter-spacing: 2px;
    }
    .email-icon, .cart-icon {
      font-size: 1.4rem;
      color: var(--black);
      transition: color 0.3s ease;
    }
    .email-icon:hover, .cart-icon:hover {
      color: var(--oak);
    }
    .hamburger {
      font-size: 1.8rem;
      cursor: pointer;
      color: var(--black);
    }
    .nav-menu {
      position: fixed;
      top: 0;
      left: -100%;
      width: 250px;
      height: 100%;
      background: var(--white);
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
      transition: left 0.3s ease;
      padding-top: 4rem;
      z-index: 1100;
    }
    .nav-menu.active {
      left: 0;
    }
    .nav-menu a {
      display: block;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      color: var(--black);
      border-bottom: 1px solid #f0f0f0;
    }
    .nav-menu a:hover {
      background: var(--oak);
      color: var(--white);
    }
    /* === Editor Section === */
    .editor-section {
      padding: 6rem 2rem 3rem;
      text-align: center;
    }
    .editor-section h1 {
      font-size: 2rem;
      color: var(--oak);
      text-transform: lowercase;
      margin-bottom: 1rem;
    }
    .editor-controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .control-group {
      background: #fdf9f3;
      padding: 1rem;
      border-radius: 8px;
      border: 1px solid var(--oak);
      flex-grow: 1; /* Allow control groups to grow */
      min-width: 150px; /* Ensure they don't get too small */
    }
    .control-group label {
      display: block;
      font-weight: 500;
      margin-bottom: 0.5rem;
    }
    .control-group select, .control-group input[type="range"] {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid var(--oak);
      border-radius: 6px;
      font-size: 1rem;
    }
    .upload-btn {
      background: var(--oak);
      color: var(--white);
      padding: 0.8rem 1.5rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      margin: 1rem auto;
      display: inline-block;
    }
    .upload-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .upload-btn:hover:not(:disabled) {
      background: var(--black);
    }
    .canvas-container {
      display: flex;
      flex-wrap: nowrap;
      overflow-x: auto;
      justify-content: center;
      gap: 1rem;
      padding: 1rem;
      -webkit-overflow-scrolling: touch; /* Smooth scrolling for iOS */
    }
    .tile {
      position: relative;
      display: inline-block;
    }
    canvas {
      border: 1px solid var(--black);
      border-radius: 6px;
    }
    /* === Checkout Sidebar === */
    .checkout-sidebar {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100%;
      background: var(--white);
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
      transition: right 0.3s ease;
      z-index: 1200;
      padding: 2rem;
      overflow-y: auto;
    }
    .checkout-sidebar.active {
      right: 0;
    }
    .checkout-sidebar h2 {
      font-size: 1.8rem;
      color: var(--oak);
      text-transform: lowercase;
      margin-bottom: 1rem;
    }
    .close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 1.4rem;
      cursor: pointer;
      color: var(--black);
    }
    .checkout-btn {
      background: var(--oak);
      color: var(--white);
      padding: 0.8rem;
      border-radius: 6px;
      margin: 0.5rem 0;
      text-align: center;
      display: block;
    }
    .checkout-btn:hover {
      background: var(--black);
    }
    .order-summary {
      margin-top: 1rem;
      padding: 1rem;
      background: #fdf9f3;
      border-radius: 8px;
      border: 1px solid var(--oak);
    }
    .order-summary p {
      margin: 0.5rem 0;
    }
    .place-order-btn {
      background: var(--oak);
      color: var(--white);
      padding: 1rem;
      border-radius: 6px;
      font-size: 1.2rem;
      text-align: center;
      display: block;
      margin-top: 1rem;
    }
    .place-order-btn:hover {
      background: var(--black);
    }
    /* === Footer === */
    footer {
      text-align: center;
      padding: 1rem;
      background: var(--white);
      color: var(--black);
      border-top: 1px solid #ddd;
    }
    /* === Mobile Styles === */
    @media (max-width: 768px) {
      body {
        font-size: 0.9rem;
      }
      header {
        padding: 0.8rem 1rem;
      }
      .logo {
        font-size: 1.5rem;
      }
      .email-icon, .cart-icon {
        font-size: 1.2rem;
      }
      .hamburger {
        font-size: 1.5rem;
      }
      .editor-section {
        padding: 5rem 1rem 2rem;
      }
      .editor-section h1 {
        font-size: 1.5rem;
      }
      .editor-controls {
        flex-direction: column;
        gap: 0.8rem;
      }
      .control-group {
        width: 100%;
        min-width: auto;
      }
      .checkout-sidebar {
        width: 100%;
        right: -100%;
        padding: 1rem;
      }
      .checkout-sidebar.active {
        right: 0;
      }
      .place-order-btn {
        font-size: 1rem;
      }
      .canvas-container {
        justify-content: flex-start; /* Align to the start for a better scroll experience */
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="hamburger" id="hamburger"><i class="fas fa-bars"></i></div>
    <div class="logo">zentiles</div>
    <div>
      <a href="mailto:zentiles@gmail.com" class="email-icon"><i class="fas fa-envelope"></i></a>
      <a href="#" class="cart-icon" id="cartIcon"><i class="fas fa-shopping-cart"></i></a>
    </div>
  </header>
  <nav class="nav-menu" id="navMenu">
    <a href="photo-editor.html">Create Art</a>
    <a href="index.html#gallery">Gallery Walls</a>
    <a href="index.html#contact">Contact Us</a>
    <a href="index.html#about">About</a>
  </nav>
  <section class="editor-section">
    <h1>create your gallery wall</h1>
    <div class="editor-controls">
      <div class="control-group">
        <label for="frame">Frame Color</label>
        <select id="frame" onchange="updateTile()">
          <option value="oak">Oak Wood</option>
          <option value="white">White</option>
          <option value="black">Classic Black</option>
        </select>
      </div>
      <div class="control-group">
        <label for="size">Size</label>
        <select id="size" onchange="updateTile()">
          <option value="8x8">8″ × 8″</option>
          <option value="8x11">8″ × 11″</option>
          <option value="12x12">12″ × 12″</option>
          <option value="12x16">12″ × 16″</option>
          <option value="20x20">20″ × 20″</option>
          <option value="20x27">20″ × 27″</option>
        </select>
      </div>
      <div class="control-group">
        <label for="effect">Effect</label>
        <select id="effect" onchange="updateTile()">
          <option value="none">None</option>
          <option value="sepia">Sepia</option>
          <option value="grayscale">Grayscale</option>
          <option value="bright">Bright</option>
          <option value="contrast">Contrast</option>
          <option value="blur">Blur</option>
        </select>
      </div>
      <div class="control-group">
        <label for="border">Border Thickness</label>
        <input type="range" id="border" min="0" max="20" value="5" oninput="updateTile()">
      </div>
    </div>
    <label class="upload-btn">
      <input type="file" id="photoUpload" accept="image/*" style="display: none;" onchange="addPhoto()">
      Add Photo +
    </label>
    <div class="canvas-container" id="canvasContainer"></div>
  </section>
  <div class="checkout-sidebar" id="checkoutSidebar">
    <h2>checkout</h2>
    <span class="close-btn" id="closeCheckout"><i class="fas fa-times"></i></span>
    <a href="#" class="checkout-btn">Add Address</a>
    <a href="#" class="checkout-btn">Add Payment Method</a>
    <div class="order-summary">
      <p><strong>Tiles:</strong> <span id="tileCount">0</span></p>
      <p><strong>Subtotal:</strong> <span id="subtotal">0 PHP</span></p>
      <p><strong>Discount (WELCOME):</strong> <span id="discount">0 PHP</span></p>
      <p><strong>Shipping:</strong> <span id="shipping">0 PHP</span></p>
      <p><strong>Grand Total:</strong> <span id="grandTotal">0 PHP</span></p>
    </div>
    <a href="#" class="place-order-btn">Place Order</a>
  </div>
  <footer>
    <p>© 2025 zentiles. all rights reserved.</p>
  </footer>
  <script>
    const hamburger = document.getElementById('hamburger');
    const navMenu = document.getElementById('navMenu');
    const cartIcon = document.getElementById('cartIcon');
    const checkoutSidebar = document.getElementById('checkoutSidebar');
    const closeCheckout = document.getElementById('closeCheckout');
    const canvasContainer = document.getElementById('canvasContainer');
    const photoUpload = document.getElementById('photoUpload');
    let tiles = [];
    const maxPhotos = 7;

    // Hamburger Menu
    hamburger.addEventListener('click', () => {
      navMenu.classList.toggle('active');
    });
    document.addEventListener('click', (e) => {
      if (!navMenu.contains(e.target) && !hamburger.contains(e.target)) {
        navMenu.classList.remove('active');
      }
    });

    // Checkout Sidebar
    cartIcon.addEventListener('click', (e) => {
      e.preventDefault();
      checkoutSidebar.classList.toggle('active');
    });
    closeCheckout.addEventListener('click', () => {
      checkoutSidebar.classList.remove('active');
    });

    // Photo Upload and Tile Management
    function addPhoto() {
      if (tiles.length >= maxPhotos) {
        photoUpload.disabled = true;
        document.querySelector('.upload-btn').classList.add('disabled');
        return;
      }
      const file = photoUpload.files[0];
      if (!file) return;
      const img = new Image();
      img.src = URL.createObjectURL(file);
      img.onload = () => {
        const tile = {
          img,
          frame: 'oak',
          size: '8x8',
          effect: 'none',
          border: 5
        };
        tiles.push(tile);
        renderTiles();
        updateCheckout();
      };
      photoUpload.value = ''; // Reset input
    }

    // Render Tiles
    function renderTiles() {
      canvasContainer.innerHTML = '';
      const containerWidth = canvasContainer.offsetWidth;
      const totalTiles = tiles.length;
      const maxWidthPerTile = totalTiles ? (containerWidth - (totalTiles - 1) * 10) / totalTiles : containerWidth;

      tiles.forEach((tile, index) => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvasContainer.appendChild(canvas);

        // Calculate dimensions
        const [w, h] = tile.size.split('x').map(Number);
        const scale = Math.min(maxWidthPerTile / Math.max(w, h), 1);
        canvas.width = w * 10 * scale;
        canvas.height = h * 10 * scale;

        // Draw frame
        ctx.fillStyle = tile.frame === 'oak' ? '#ce9f6f' : tile.frame === 'white' ? '#ffffff' : '#000000';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Draw border
        const borderPx = tile.border * scale;
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(borderPx, borderPx, canvas.width - 2 * borderPx, canvas.height - 2 * borderPx);

        // Draw image with effect
        const imgWidth = canvas.width - 2 * borderPx;
        const imgHeight = canvas.height - 2 * borderPx;
        ctx.filter = getFilter(tile.effect);
        ctx.drawImage(tile.img, borderPx, borderPx, imgWidth, imgHeight);
        ctx.filter = 'none';
      });
    }

    // Update Tile on Control Change
    function updateTile() {
      const frame = document.getElementById('frame').value;
      const size = document.getElementById('size').value;
      const effect = document.getElementById('effect').value;
      const border = document.getElementById('border').value;
      if (tiles.length > 0) {
        tiles[tiles.length - 1] = { ...tiles[tiles.length - 1], frame, size, effect, border: parseInt(border) };
        renderTiles();
      }
      updateCheckout();
    }

    // Get Filter for Effects
    function getFilter(effect) {
      switch (effect) {
        case 'sepia': return 'sepia(1)';
        case 'grayscale': return 'grayscale(1)';
        case 'bright': return 'brightness(1.5)';
        case 'contrast': return 'contrast(1.5)';
        case 'blur': return 'blur(2px)';
        default: return 'none';
      }
    }

    // Update Checkout Summary
    function updateCheckout() {
      const tileCount = tiles.length;
      const pricePerTile = 1000;
      const subtotal = tileCount * pricePerTile;
      const discount = subtotal * 0.25; // WELCOME 25% discount
      const shipping = subtotal >= 2000 ? 0 : 200;
      const grandTotal = subtotal - discount + shipping;

      document.getElementById('tileCount').textContent = tileCount;
      document.getElementById('subtotal').textContent = `${subtotal} PHP`;
      document.getElementById('discount').textContent = `${discount} PHP`;
      document.getElementById('shipping').textContent = `${shipping} PHP`;
      document.getElementById('grandTotal').textContent = `${grandTotal} PHP`;
    }
  </script>
</body>
</html>
