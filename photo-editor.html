<!-- ... existing HTML code ... -->

<!-- Add checkout pop-up -->
<div class="checkout-popup" id="checkoutPopup">
  <div class="popup-header">
    <h2>Checkout</h2>
    <button class="close-btn" id="closeCheckoutBtn">&times;</button>
  </div>
  <div class="popup-content">
    <div class="customer-info">
      <button class="add-address-btn">Add Address</button>
      <button class="add-payment-btn">Add Payment Method</button>
    </div>
    <div class="order-summary">
      <h3>Order Summary</h3>
      <p>Total Tiles: <span id="totalTiles">0</span></p>
      <p>Subtotal: <span id="subtotal">0 PHP</span></p>
      <p>Discount: <span id="discount">0 PHP</span></p>
      <p>Shipping: <span id="shipping">0 PHP</span></p>
      <p>Grand Total: <span id="grandTotal">0 PHP</span></p>
    </div>
    <button class="place-order-btn">Place Order</button>
  </div>
</div>

<!-- ... existing script code ... -->

// Add event listener for cart icon
const cartIcon = document.getElementById('cartIcon');
const checkoutPopup = document.getElementById('checkoutPopup');
const closeCheckoutBtn = document.getElementById('closeCheckoutBtn');

cartIcon.addEventListener('click', () => {
  checkoutPopup.classList.add('active');
});

closeCheckoutBtn.addEventListener('click', () => {
  checkoutPopup.classList.remove('active');
});

// Calculate order summary
function calculateOrderSummary() {
  const totalTiles = gallery.children.length;
  const subtotal = totalTiles * 1000;
  const discount = subtotal >= 2000 ? subtotal * 0.25 : 0;
  const shipping = subtotal >= 2000 ? 0 : 200; // standard shipping fee
  const grandTotal = subtotal - discount + shipping;

  document.getElementById('totalTiles').textContent = totalTiles;
  document.getElementById('subtotal').textContent = `${subtotal} PHP`;
  document.getElementById('discount').textContent = `${discount} PHP`;
  document.getElementById('shipping').textContent = `${shipping} PHP`;
  document.getElementById('grandTotal').textContent = `${grandTotal} PHP`;
}

// Apply WELCOME code for new customers
function applyWelcomeCode() {
  const subtotalElement = document.getElementById('subtotal');
  const subtotal = parseInt(subtotalElement.textContent.replace(' PHP', ''));
  const discount = subtotal * 0.25;
  document.getElementById('discount').textContent = `${discount} PHP`;
  const grandTotal = subtotal - discount;
  document.getElementById('grandTotal').textContent = `${grandTotal} PHP`;
}

// Call calculateOrderSummary and applyWelcomeCode when a photo is added
photoUpload.addEventListener('change', (event) => {
  // ... existing code ...
  calculateOrderSummary();
  applyWelcomeCode();
});
